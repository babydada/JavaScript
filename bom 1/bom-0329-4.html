<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>弹出小广告</title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		#msg{
			width: 200px;
			height: 200px;
			background-color: #890134;
			position: fixed;
			right: 40px;
			bottom: -200px;
		}
		#msg>a{
			float: right;
			padding: 0 5px;
			border: 1px solid #000;
			cursor: pointer;
		}
	</style>
</head>
<body>
	<div id="msg">
		<a>X</a>
	</div>
	<script type="text/javascript">
		//创建一个广告动画
		var timer = null;
		timer = setInterval(function(){
			var msg = document.getElementById('msg');
			// var sheet = document.styleSheets[0]
			// var rules = sheet.cssRules||sheet.rules;
			// var rule = rules[0];
			var mystyle = getComputedStyle(msg);
			var bottom = parseInt(mystyle.bottom.slice(0,-2));
			if(bottom<0){
				bottom+=10;
				msg.style.bottom = bottom+'px';
			}else{
				clearInterval(timer);
				timer=null;
			}
		},30)	
		var a = document.querySelector('#msg>a');
		a.onclick=function(){
			if(!timer){
				timer = setInterval(function(){
					var msg = document.getElementById('msg');
					var mystyle=getComputedStyle(msg);
					var bottom = parseInt(mystyle.bottom.slice(0,-2)); 
					if(bottom>-200){
						bottom-=10;
						msg.style.bottom=bottom+'px';
					}else{
						clearInterval(timer);
						timer=null;
					}
				},30)
			}
		}
	</script>
	<div id="d1" style="width: 100px;height: 100px;position: absolute;top: 100px;left: 10px;background-color: #467316;"></div>
	<script type="text/javascript">
		var speed = 2;
		setInterval(function(){
			var left = parseInt(document.getElementById('d1').style.left.slice(0,-2))+speed;
		if(left>innerWidth){
			left=-100;
		}
		document.getElementById('d1').style.left = left+'px';
	},30)
		
	</script>
</body>
</html>